<!DOCTYPE html>
<html lang="en" ng-app="map">
<head>
    <meta charset="UTF-8">
    <title>College map</title>
    <script src ="https://code.jquery.com/jquery-2.x-git.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body ng-controller="mapController">

<!--
<body>
<div ng-controller="mapController" >
<div ng-repeat="column in mapData.columns" >
    <div ng-repeat="box in column.boxes | orderBy:'box.box_id':true">
            <div ng-class="['box']">
                  <div ng-class = "['box_inner',box.border, box.boxesType]" >
                      {{box.box_id}}
                 </div>
            </div>
        </div>
        <div class = "clear">
        </div>
</div>
</div>
-->

<div class="modal fade" id="findPatchDialog" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Find patch</h4>
            </div>
            <div class="modal-body">
                <form role="form">
                    <div class="form-group">
                        <label for="from">From:</label>
                        <input type="text" class="form-control inputFindPatch" ng-model="inputFrom" id="from">
                    </div>
                    <div class="form-group">
                        <label for="to">To:</label>
                        <input type="text"  class="form-control inputFindPatch"  ng-model="inputTo" id="to">
                    </div>
                    <button type="submit" ng-click="sendFindPatchRequest()" data-dismiss="modal" class="btn btn-primary">Go!</button>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>


<div class="modal fade" id="reportRoomDialog" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Report room status</h4>
            </div>
            <div class="modal-body">
                <p>Some text in the modal.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<nav class = "navbar navbar-default" role = "navigation">

    <div class = "navbar-header">
        <button type = "button" class = "navbar-toggle"
                data-toggle = "collapse" data-target = "#example-navbar-collapse">
            <span class = "sr-only">Toggle navigation</span>
            <span class = "icon-bar"></span>
            <span class = "icon-bar"></span>
            <span class = "icon-bar"></span>
        </button>

        <a class = "navbar-brand" href = "#">College Map</a>
    </div>




    <div class = "collapse navbar-collapse" id = "example-navbar-collapse">

        <ul class = "nav navbar-nav">
            <div class="btn-group-vertical">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#findPatchDialog">Find patch</button>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#reportRoomDialog">Report room</button>
                <button type="button" class="btn btn-primary">Update Map</button>
                <button type="button" class="btn btn-primary">Map Legend</button>
            </div>
        </ul>
    </div>

</nav>

<div  >
    <table>
    <tr ng-repeat="column in mapData.columns" >
        <th ng-repeat="box in column.boxes">
            <div ng-class="['box']">
                <div ng-class = "['box_inner',box.border, box.boxesType]" >
                    {{box.box_id}}
                </div>
            </div>
        </th>
    </tr>
    </table>
</div>
<!--
<script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>

<script>
    var app = angular.module("map",[]);
    app.controller("mapController",function ($scope,$http) {
        /*
        $http.get("http://localhost:3000/getAllMap").success(function (data) {
            console.log(data);
        });
        */


        //tempory json of data for example. It's must be output from server function. Todo!
        $scope.mapData =  {
            "columns": [
            {
                "boxes": [
                    {
                        "boxesType": "room",
                        "border": "borderLeftTop",
                        "place_id": 1,
                        "box_id": 0,
                        "in_path": false

                    },
                    {
                        "boxesType": "room",
                        "border": "borderTop",
                        "place_id": 1,
                        "box_id": 1,
                        "in_path": false
                    },
                    {
                        "boxesType": "hallway",
                        "border": "borderNone",
                        "place_id": 2,
                        "box_id": 2,
                        "in_path": false
                    },
                    {
                        "boxesType": "room",
                        "border": "borderTopRightBottom",
                        "place_id": 1,
                        "box_id": 3,
                        "in_path": false
                    }
                ]
            },
            {
                "boxes": [
                    {
                        "boxesType": "room",
                        "border": "borderLeftBottom",
                        "place_id": 1,
                        "box_id": 4,
                        "in_path": false
                    },
                    {
                        "boxesType": "room",
                        "border": "borderRightBottom",
                        "place_id": 1,
                        "box_id": 5,
                        "in_path": false
                    },
                    {
                        "boxesType": "hallway",
                        "border": "borderNone",
                        "place_id": 2,
                        "box_id": 6,
                        "in_path": false
                    },
                    {
                        "boxesType": "room",
                        "border": "borderTopRightBottom",
                        "place_id": 3,
                        "box_id": 7,
                        "in_path": false
                    }
                ]
            },{
                    "boxes": [
                        {
                            "boxesType": "room",
                            "border": "borderLeftTop",
                            "place_id": 22,
                            "box_id": 8,
                            "in_path": false
                        },
                        {
                            "boxesType": "room",
                            "border": "borderTop",
                            "place_id": 2,
                            "box_id": 9,
                            "in_path": false
                        },
                        {
                            "boxesType": "hallway",
                            "border": "borderNone",
                            "place_id": 2,
                            "box_id": 10,
                            "in_path": false
                        },
                        {
                            "boxesType": "room",
                            "border": "borderTopRightBottom",
                            "place_id": 3,
                            "box_id": 11,
                            "in_path": false
                        }
                    ]
                }, {
                    "boxes": [
                        {
                            "boxesType": "room",
                            "border": "borderLeft",
                            "place_id": 22,
                            "box_id": 12,
                            "in_path": false
                        },
                        {
                            "boxesType": "room",
                            "border": "borderRight",
                            "place_id": 2,
                            "box_id": 13,
                            "in_path": false
                        },
                        {
                            "boxesType": "hallway",
                            "border": "borderNone",
                            "place_id": 2,
                            "box_id": 14,
                            "in_path": false
                        },
                        {
                            "boxesType": "room",
                            "border": "borderTopRightBottom",
                            "place_id": 3,
                            "box_id": 15,
                            "in_path": false
                        }
                    ]
                },
                {
                    "boxes": [
                        {
                            "boxesType": "room",
                            "border": "borderLeftBottom",
                            "place_id": 2,
                            "box_id": 16,
                            "in_path": false
                        },
                        {
                            "boxesType": "room",
                            "border": "borderRightBottom",
                            "place_id": 2,
                            "box_id": 17,
                            "in_path": false
                        },
                        {
                            "boxesType": "hallway",
                            "border": "borderNone",
                            "place_id": 2,
                            "box_id": 18,
                            "in_path": false
                        },
                        {
                            "boxesType": "room",
                            "border": "borderTopRightBottom",
                            "place_id": 3,
                            "box_id": 19,
                            "in_path": false
                        }
                    ]
                },
                {
                    "boxes": [
                        {
                            "boxesType": "room",
                            "border": "borderLeftTopBottom",
                            "place_id": 2,
                            "box_id": 20,
                            "in_path": false
                        },
                        {
                            "boxesType": "room",
                            "border": "borderTopBottom",
                            "place_id": 2,
                            "box_id": 21,
                            "in_path": false
                        },
                        {
                            "boxesType": "hallway",
                            "border": "borderNone",
                            "place_id": 2,
                            "box_id": 22,
                            "in_path": false
                        },
                        {
                            "boxesType": "hallway",
                            "border": "borderNone",
                            "place_id": 3,
                            "box_id": 23,
                            "in_path": false
                        }
                    ]
                },
                {
                    "boxes": [
                        {
                            "boxesType": "room",
                            "border": "borderLeftTopBottom",
                            "place_id": 1,
                            "box_id": 24,
                            "in_path": false
                        },
                        {
                            "boxesType": "room",
                            "border": "borderTopBottom",
                            "place_id": 2,
                            "box_id": 25,
                            "in_path": false
                        },
                        {
                            "boxesType": "room",
                            "border": "borderRightBottom",
                            "place_id": 2,
                            "box_id": 26,
                            "in_path": false
                        },
                        {
                            "boxesType": "room",
                            "border": "borderLeftRightBottom",
                            "place_id": 3,
                            "box_id": 27,
                            "in_path": false
                        }
                    ]
                }
        ]
        }
    });
</script>
-->
    <script src = "js/lib/angular/angular.min.js" ></script>
    <script src = "js/map.js"></script>
</body>
</html>